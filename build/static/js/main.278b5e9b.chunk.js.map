{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["PersonForm","props","value","name","onChange","onNameChange","type","number","onNumberChange","Filter","Persons","people","onDelete","map","person","key","id","data-id","onClick","Notification","className","message","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","nameFilter","setNameFilter","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","personService","showTimedMessage","timeout","setTimeout","showTimedErrorMessage","peopleToShow","filter","nameInLower","toLowerCase","queryInLower","includes","onSubmit","event","preventDefault","matchingPerson","find","window","confirm","updateInfo","updatedPerson","newPerson","createdPerson","concat","catch","e","error","target","targetId","dataset","selectedPerson","filteredPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.278b5e9b.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = props => {\n  return (\n    <div>\n      Name: <input value={props.name} onChange={props.onNameChange} />\n      <br />\n      Phone number: <input type=\"tel\" value={props.number} onChange={props.onNumberChange} />\n    </div>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = props => {\n  return (\n    <div>\n      Filter by name: <input value={props.value} onChange={props.onChange} />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst Persons = ({ people, onDelete }) => {\n  return (\n    <ul>\n      {people.map(person => {\n        return (\n          <li key={person.id}>\n            {person.name} : {person.number}\n            <button data-id= {person.id} onClick={onDelete}>Delete</button>\n          </li>\n        )\n      })}\n    </ul>\n  )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({ className, message }) => {\n  return (\n    <div className={className}>\n      <h3>{message}</h3>\n    </div>\n  )\n}\n\nexport default Notification\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst destroy = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, destroy }\n","import React, { useEffect, useState } from 'react'\n\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [nameFilter, setNameFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n  }, [])\n\n  const showTimedMessage = (message, timeout) => {\n    setNotificationMessage(message)\n    setTimeout(() => setNotificationMessage(null), timeout)\n  }\n\n  const showTimedErrorMessage = (message, timeout) => {\n    setErrorMessage(message)\n    setTimeout(() => setErrorMessage(null), timeout)\n  }\n\n  const handleNameChange = event => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = event => {\n    setNameFilter(event.target.value)\n  }\n\n  const handleFormSubmit = event => {\n    event.preventDefault()\n\n    const matchingPerson = persons.find(person => person.name === newName)\n    if (matchingPerson) {\n      const result = window.confirm(\n        `${newName} is already added to the phonebook. Would you like to replace their number with a new one?`\n      )\n      if (!result) {\n        return false\n      }\n      const updateInfo = {\n        ...matchingPerson,\n        number: newNumber\n      }\n      personService\n        .update(matchingPerson.id, updateInfo)\n        .then(updatedPerson => {\n          setPersons(persons.map(person => person.id === updatedPerson.id ? updatedPerson : person))\n          showTimedMessage(`Updated ${matchingPerson.name}`, 2000)\n        })\n\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .create(newPerson)\n        .then(createdPerson => {\n          setPersons(persons.concat(createdPerson))\n          showTimedMessage(`Added ${newPerson.name}`, 2000)\n        })\n        .catch(e => {\n          showTimedErrorMessage(e.response.data.error, 2000)\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handlePersonDelete = event => {\n    const targetId = event.target.dataset.id\n    const selectedPerson = persons.find(person => person.id === targetId)\n    const result = window.confirm(`Are you sure you want to remove ${selectedPerson.name}?`)\n    if (result) {\n      const filteredPersons = persons.filter(person => person.id !== targetId)\n      personService\n        .destroy(targetId)\n        .then(() => {\n          showTimedMessage(`Removed ${selectedPerson.name}`, 2000)\n        })\n        .catch(error => {\n          showTimedErrorMessage(`${selectedPerson.name} was already removed.`, 2000)\n        })\n        .then(() => {\n          setPersons(filteredPersons)\n        })\n    }\n  }\n\n  const peopleToShow = nameFilter === '' ? persons : persons.filter(person => {\n    const nameInLower = person.name.toLowerCase(),\n      queryInLower = nameFilter.toLowerCase()\n    return nameInLower.includes(queryInLower)\n  })\n\n  return (\n    <div>\n      {notificationMessage ? (\n        <Notification message={notificationMessage} className=\"success\" />\n      ) : ''}\n      {errorMessage ? (\n        <Notification message={errorMessage} className=\"error\" />\n      ) : ''}\n      <h2>Phonebook</h2>\n      <form onSubmit={handleFormSubmit}>\n        <h3>Add a new entry</h3>\n        <PersonForm\n          name={newName}\n          number={newNumber}\n          onNameChange={handleNameChange}\n          onNumberChange={handleNumberChange}\n        />\n        <button type=\"submit\">Save entry</button>\n      </form>\n      <h3>Numbers</h3>\n      <Filter value={nameFilter} onChange={handleFilterChange} />\n      <Persons people={peopleToShow} onDelete={handlePersonDelete} />\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}